RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^api/([^/]+)/?$ api.php?resource=$1 [L,QSA]
RewriteRule ^api/([^/]+)/(\d+)/?$ api.php?resource=$1&id=$2 [L,QSA]